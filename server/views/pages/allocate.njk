{% extends "partials/layout.njk" %}
{% from "govuk/components/table/macro.njk" import govukTable %}

{% set pageTitle = applicationName + " - Allocate" %}

{% set offenderManagerDetails = offenderManager.forenames + ' ' + offenderManager.surname + (' (' + offenderManager.grade + ')' if offenderManager.grade)  %}


{% block content %}

    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
            <h1 class="govuk-heading-xl govuk-!-margin-bottom-2">{{ name }}
                <span class="govuk-caption-xl">Tier: {{ tier }}</span>
                <span class="govuk-caption-xl">CRN: {{ crn }}</span>
            </h1>
        </div>
    </div>

    <hr class="govuk-section-break govuk-section-break--xl govuk-section-break--visible">

    <h2 class="govuk-heading-l">Allocate to a probation practitioner <br>in Wrexham</h2>

    {% if probationStatus == 'Currently managed' and offenderManager %}
        <div class="govuk-warning-text">
            <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
            <strong class="govuk-warning-text__text">
                <span class="govuk-warning-text__assistive">Warning</span>
                {{ name }} is currently managed by {{ offenderManagerDetails }}.
            </strong>
        </div>
    {% endif %}

    {{ govukTable({
        firstCellIsHeader: true,
        head: [
            {
                text: "Name"
            },
            {
                text: "Grade"
            },
            {
                text: "Capacity"
            },
            {
                text: "Community cases",
                format: "numeric"
            },
            {
                text: "Custody cases",
                format: "numeric"
            },
            {
                text: "Select"
            }
        ],
        rows: []
    }) }}


{% endblock %}
